

  <style>
    @import url("https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap");

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;

      --naranja: #eb6710;
      --negro: #1b1a1a;
    }

    body {
      background-color: var(--negro);
      overflow: hidden;
      display: grid;
      place-items: center;
      perspective: 500px;
      height: 100vh;
    }

    .container {
      height: 100vh;
      width: 100vw;
      display: grid;
      place-items: center;
    }

    svg {
      width: 600px;
    }

    svg path {
      fill: var(--naranja);
      stroke: none;
    }

    #filter {
      position: fixed;
    }

    .title {
      position: fixed;
      bottom: 7%;
      left: 50%;
      transform: translateX(-50%);
      color: var(--naranja);
      text-transform: uppercase;
      font-size: 4rem;
      font-family: "Amatic SC", serif;
      text-align: center;
    }

    .instruction {
      color: rgb(100, 100, 100);
      font-family: sans-serif;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-align: center;
      position: fixed;
      top: 5%;
      left: 50%;
      transform: translateX(-50%);
    }

    @media (max-width: 600px) {
      .title {
        bottom: 5%;
        font-size: 3em;
      }
      svg {
        width: 400px;
      }
    }
  </style>

</head>

<body>
  <div class="container" id="app">
    <svg id="filter">
      <defs>
        <filter id="effekt">
          <feTurbulence type="fractalNoise" baseFrequency="0.0001 0.0001" numOctaves="1" result="turbelence" />
          <feDisplacementMap xChannelSelector="R" yChannelSelector="G" scale="300" in="SourceGraphic" in2="turbulence" />
        </filter>
      </defs>
    </svg>
    <div class="face-wrapper" style="filter:url(#effekt)">
      <component :is="currentFace"></component>
    </div>
  </div>

  <div class="title">Cara de Calabaza</div>
  <div class="instruction">
    haz clic en cualquier lugar para cambiar las caras
  </div>

  <template id="face-5">
    <svg viewBox="0 0 317.5 211.667">
      <defs>
        <clipPath clipPathUnits="userSpaceOnUse" id="a">
          <path d="M0 864h864V0H0Z" />
        </clipPath>
      </defs>
      <g clip-path="url(#a)" transform="matrix(.32077 0 0 -.30733 18.509 243.69)" style="display:inline" id="face-5">
        <path d="M0 0s16.529-29.754 53.715 9.916C90.9 49.582 180.977 123.957 267.746 63.633 239.65 71.896 150.4 52.063 92.555 14.051 34.707-23.965 29.75-74.373 14.875-50.408 0-26.447 0 0 0 0" transform="translate(461.394 650.497)" />
        <path d="M0 0s-18.826-23.139-51.883 24.791c-33.055 47.932-104.125 109.906-191.719 76.854 40.491-4.957 116.52-23.963 171.061-88.422C-61.799 0-44.443-52.1-18.002-46.709 8.443-41.318 0 0 0 0" transform="translate(435.598 640.58)" />
        <path d="m0 0 25.617-4.133S97.512 99.992 188.414 113.215c34.707 4.957 138.83 13.223 159.49-97.512 2.481-20.66-22.31-77.682-73.547-105.777-9.089-3.303-60.326-1.653-90.076 4.131-29.75 5.785-100.818 14.351-122.302 22.879C40.492-54.539 14.873-38.014 0 0" transform="translate(461.394 570.337)" />
        <path d="m0 0-19.008-12.395S-66.109 89.248-123.955 118.172c-57.848 28.926-89.252 34.709-110.736 38.015-21.485 3.305-51.235 3.305-73.547-15.703-22.313-19.005-64.457-76.025-20.66-147.92C-285.1-79.328-201.637-77.68-157.012-76.85c44.625.825 121.477 27.27 133.873 33.881l12.397 6.61z" transform="translate(416.77 562.073)" />
        <path d="M0 0s36.361-31.811 40.492-50.613c4.131-18.803-5.789-22.934-28.924-17.977C-11.57-63.631 0 0 0 0" transform="translate(449.826 535.63)" />
        <path d="M0 0s11.746-67.762-18.828-67.762C-49.404-67.762-21.666-22.311 0 0" transform="translate(435.598 526.538)" />
        <path d="M0 0s-35.744-113.209 21.381-223.119c43.076-75.199 65.389-94.205 65.389-94.205s-15.7 46.277-15.7 86.771c22.311-54.543 49.58-114.873 116.518-144.619-21.484 46.276-20.66 116.52-20.66 116.52s27.271-90.078 72.722-116.52c11.569 27.268 8.264 63.629 8.264 63.629s10.74-52.885 66.936-78.502c12.396 30.574 19.834 61.152 19.834 91.727 21.486-52.061 36.302-65.286 55.752-78.508 31.843 19.834 57.462 62.808 70.683 100.822 8.264-53.717 48.756-89.252 48.756-89.252s41.32 20.66 62.805 61.981c2.48-33.057 0-51.237 0-51.237s61.978 46.276 86.769 99.991c8.264-20.663 0-61.153 0-61.153s41.319 63.631 52.889 95.858c3.307-13.219-6.611-55.364-13.223-70.241 32.231 36.364 109.91 126.428 87.598 247.084C777.623-5.781 771.012 0 771.012 0s4.957-43.801 4.131-76.854c-1.653-9.912-16.528 19.805-16.528 19.805v-47.896s-15.701 30.574-22.312 39.666c3.306-22.317 6.611-80.991-14.049-104.953 2.48 38.843-12.397 62.808-12.397 62.808s-6.609-81.814-40.49-108.26c1.653 47.932-7.437 91.733-52.888 121.483.826-47.932-39.667-115.697-68.59-130.57 4.132 47.103-.828 99.988-26.444 127.259-20.66-58.67-61.152-131.392-61.152-131.392l-54.541 123.131s-64.457-125.606-78.506-142.963c-1.652 40.494-27.269 135.523-40.492 164.447-17.354-53.713-38.84-115.69-38.84-115.69s-38.121 90.901-52.529 114.041c-16.061-25.621-35.895-98.339-30.11-130.568-11.568 24.789-43.796 98.336-40.492 128.91-11.568-32.226-14.875-100.814-9.918-121.474C94.207-169.404 57.848-75.266 66.109-57.049c-15.699-17.322-17.351-75.994-9.089-96.654C38.014-109.078 24.791-40.49 33.057-15.697 19.006-25.615 4.133-59.496 4.133-82.635-3.305-50.406 0 0 0 0" transform="translate(47.379 535.63)" />
      </g>
    </svg>
  </template>

  <template id="face-4">
    <svg viewBox="0 0 317.5 211.667">
      <defs>
        <clipPath clipPathUnits="userSpaceOnUse" id="b">
          <path d="M0 864h864V0H0Z" />
        </clipPath>
      </defs>
      <g clip-path="url(#b)" transform="matrix(.35278 0 0 -.35278 6.472 255.03)" style="display:inline" id="face-4">
        <path d="m0 0-13.03 29.074 6.255-39.469-20.958-27.783-16.519 32.265 1.371-51.263-49.512-38.579-23.652 39.237 8.468-50.87c-24.03-12.825-47.538-22.856-97.431-37.229-5.478 24.717-16.814 46.42-16.814 46.42l-1.895-51.385-41.589-2.983-12.787 43.407-10.396-48.649-62.485 1.97s-10.2 42.78-7.6 53.177c-11.697-27.291-19.37-53.932-19.37-53.932l-93.777 29.239-4.571 50.892-17.541-46.241-75.904 35.277-4.55 51.039-19.834-44.833-63.43 42.236-7.794 55.878-11.347-43.959-52.528 41.414 53.088-63.541 6.488-68.174 9.18 58.322s42.701-29.275 79.586-51.415c7.796-32.487 19.374-50.282 24.572-59.378-5.329 31.769 2.717 46.758 2.717 46.758l68.028-34.542.815-38.605 18.332 34.363 76.562-25.267 9.096-37.685 12.328 46.009 68.242-3.126 11.697-42.883 12.325 46.009 59.144 7.271v-38.569l15.597 42.467 79.272 24.691 14.713-30.225-3.017 40.621 54.533 37.459 9.064-35.748.74 45 32.677 37.332 9.999-35.333v53.999S11.047-5.387 28.362 42.246C13.861 18.699 0 0 0 0" transform="translate(782.084 378.617)" />
        <path d="M0 0c8.96 39.976 17.406 62.716 17.406 62.716s-38.984-9.094-49.381-41.581C-42.371-11.354-8.955-39.978 0 0" transform="translate(454.096 365.282)" />
        <path d="M0 0c-9.097 15.597-55.878 48.081-55.878 48.081s15.593-69.65 29.889-82.258C-11.696-46.781 9.096-15.595 0 0" transform="translate(549.473 379.917)" />
        <path d="M0 0c85.767-35.087 196.159-5.196 217.635 35.087 21.474 40.284 7.978 64.808-11.011 80.569 0 0-59.779 44.181-59.779 76.671 0 32.486-57.176 94.865-136.449 31.189C-68.875 159.837-85.769 35.087 0 0" transform="translate(202.503 440.995)" />
        <path d="M0 0c101.881 8.805 99.542 57.471 94.346 96.456C68.356 251.097-70.692 253.695-74.593 238.101c-3.895-15.593 15.597-44.184-6.496-76.669-22.088-32.487-53.277-76.672-53.277-76.672C-134.366 45.774-101.881-8.806 0 0" transform="translate(639.657 436.804)" />
      </g>
    </svg>
  </template>

  <template id="face-3">
    <svg viewBox="0 0 317.5 211.667">
      <defs>
        <clipPath clipPathUnits="userSpaceOnUse" id="c">
          <path d="M0 864h864V0H0Z" />
        </clipPath>
      </defs>
      <g clip-path="url(#c)" transform="matrix(.35278 0 0 -.35278 3.024 254.489)" style="display:inline" id="face-3">
        <path d="M0 0s79.133 42.694 117.851 98.287c20.85 31.765 29.785 60.557 96.299 63.537h41.696s14.888-38.719 26.8-63.537c11.916-24.824 9.932-70.49 9.932-94.312 0-23.829 2.977-88.361-28.793-108.214-31.764-19.855-67.503 2.978-91.333 14.89C148.627-77.432 96.014-32.76 68.213-23.822 40.416-14.89 0 0 0 0" transform="translate(448.046 547.459)" />
        <path d="M0 0s-43.678 17.87-92.322 47.651c-48.645 29.787-109.206 50.63-144.943 42.688-35.74-7.937-51.622-20.843-51.622-20.843s20.85-25.812 22.833-34.751c1.984-8.932 25.807-122.873 88.351-121.496 26.807 2.372 74.459 39.101 103.251 61.935C-45.663-1.983 0 0 0 0" transform="translate(392.165 550.438)" />
        <path d="M0 0s9.924-25.812-8.939-23.822c-18.862 1.984-20.846 25.806-8.931 34.743C-5.96 19.86-1.993 17.851 0 0" transform="translate(401.104 493.85)" />
        <path d="M0 0s-4.964-19.078 0-31.877c4.964-12.794 14.89-10.035 19.854 0C24.816-21.838 10.919 4.97 0 0" transform="translate(443.791 501.793)" />
        <path d="M0 0s-59.566-185.858 94.309-320.87c-5.955 17.871 0 37.725 0 37.725s5.96-25.813 31.772-37.725c-5.96 17.871 0 35.741 0 35.741l17.87-26.807v15.885l46.655-50.629s31.768 20.847 34.748 40.701c19.857-23.826 25.812-24.816 25.812-24.816l9.926 22.828 3.973-13.897 12.902 23.828 7.944-25.812 12.417 6.947v-49.635s61.047 11.912 98.77 85.375c-3.972-41.693 0-63.535 0-63.535l15.884 13.901 8.936-25.813 19.854 26.803s2.983-23.822 17.871-46.656c33.752 17.869 81.405 72.466 83.389 104.232l9.929-25.807s8.937 19.856 10.922 33.756c7.939-26.808-5.96-76.443-5.96-76.443s50.634 22.834 70.487 84.381c8.932-2.975 9.927-25.807 9.927-25.807s69.492 74.451 93.317 182.66c23.826 108.214-15.881 199.548-15.881 199.548s9.926-65.527-1.989-94.313c0 42.687-23.825 83.391-23.825 83.391S723.713-12.862 672.091-74.54c.991 30.651.991 46.456.991 46.456s-16.875-71.405-76.439-120.051c7.942 19.861 1.984 40.703 1.984 40.703s-49.639-69.488-98.281-95.301c4.964 20.85-2.981 48.645-2.981 48.645s-16.875-41.698-41.695-61.553c22.834 56.59 26.805 109.205 16.879 126.08-33.756-70.484-69.492-135.012-69.492-135.012s-11.917 90.34-3.971 106.225c-21.842-27.797-46.662-97.285-47.656-111.188-15.881 54.6-36.731 108.209-36.731 108.209l-11.911-104.24-20.848 53.609s-9.928-47.65-22.835-71.478c-21.84 33.756-45.666 81.412-45.666 115.162-.991-28.793-9.926-82.402-.991-114.168-20.848 22.834-31.77 85.375-22.835 104.24-16.877-20.849-18.861-77.439-13.897-105.234-25.81 20.848-56.591 84.385-46.66 116.15-13.897-12.9-16.877-73.457-11.915-101.259-23.823 19.853-69.488 82.4-62.539 118.14-7.944-12.906-9.931-45.668-7.944-65.521-20.846 40.697-32.761 90.338-26.801 109.198-5.96-23.823-7.946-66.511-3.976-82.396C-.993-101.473-8.939-29.568 0 0" transform="translate(77.466 509.948)" />
      </g>
    </svg>
  </template>

  <template id="face-2">
    <svg viewBox="0 0 317.5 211.667">
      <defs>
        <clipPath clipPathUnits="userSpaceOnUse" id="d">
          <path d="M0 864h864V0H0Z" />
        </clipPath>
      </defs>
      <g clip-path="url(#d)" transform="matrix(.3184 0 0 -.31048 23.958 242.107)" style="display:inline" id="face-2">
        <path d="M0 0s-15.813-40.664-54.214-48.573c-38.402-7.904-91.486-35.014-109.558-96.007-18.076-60.985-79.064-101.654-118.596-108.431 58.729-54.209 149.091-169.417 233.801-133.274C-18.072-368.211 84.713-248.483 0 0" transform="translate(670.981 755.174)" />
        <path d="M0 0s-89.228 40.658-112.947 114.08c-23.72 73.417-74.545 114.08-133.275 83.582 2.256-32.76-12.426-53.089 0-80.194 12.422-27.111 11.291-92.618 32.75-138.924 21.461-46.313 96.006-77.937 134.409-56.475C-40.658-56.471 0 0 0 0" transform="translate(362.633 501.036)" />
        <path d="M0 0s-9.036-151.348 46.31-228.154c-10.165 40.664 0 42.92 0 42.92s13.554-62.12 46.308-83.578c-7.906 35.009 6.777 81.322 6.777 81.322s7.91-80.194 44.051-110.692c-5.646 29.37 0 48.567 0 48.567s33.88-89.225 127.63-100.524v158.127s55.347-137.797 91.491-167.162c28.235 12.424 73.414 39.537 89.226 58.737-2.258-28.239-12.426-51.961-12.426-51.961s49.698 16.947 66.64 42.923c1.134-18.072-11.295-37.275-11.295-37.275s68.897 44.053 93.747 88.104c-1.131-22.596-14.682-48.573-14.682-48.573s94.875 41.619 110.69 241.627c-14.684-48.482-30.495-71.07-30.495-71.07s12.423 73.416 3.387 109.558c-19.202-58.738-25.979-154.738-65.511-189.751 2.26 41.791-16.94 74.544-16.94 74.544s0-106.169-60.996-145.707c6.779 38.403-10.163 108.432-10.163 108.432s-15.814-84.709-33.884-102.781c3.391 35.013-9.037 102.781-9.037 102.781l-49.698-89.226s-19.197 118.591-40.658 172.808c-22.591-63.254-46.31-151.35-46.31-151.35l-38.4 114.073s-24.848-32.754-31.626-65.508c-6.78 37.275-12.429 62.127 5.644 91.492-24.845-16.947-61.903-78.777-62.122-145.705-35.014 32.752-55.34 107.303-54.212 153.609-22.592-24.851-39.178-52.703-44.051-80.193-12.422 51.953-10.166 82.455-10.166 82.455s-24.846-18.076-20.33-47.441C50.828-120.85 39.533-40.663 39.533-40.663s-11.295-64.374 7.907-123.11C23.72-127.633-4.515-45.179 0 0" transform="translate(81.393 481.834)" />
      </g>
    </svg>
  </template>

  <template id="face-1">
    <svg viewBox="0 0 317.5 211.667">
      <defs>
        <clipPath clipPathUnits="userSpaceOnUse" id="e">
          <path d="M0 864h864V0H0Z" />
        </clipPath>
      </defs>
      <g clip-path="url(#e)" transform="matrix(.35278 0 0 -.35278 3.48 261.948)" style="display:inline" id="face-1">
        <path d="M0 0s-20.22-96.345 60.666-148.682c80.882-52.336 121.325-19.033 121.325-19.033l-92.12 110.62-29.205-31.986-5.949 48.641z" transform="translate(162.191 681.015)" />
        <path d="M0 0s99.918-42.818 176.042 21.413c76.126 64.232 53.525 132.027 53.525 132.027l-89.206-41.63s-2.381-42.819-13.086-59.474c-3.57 22.603-10.921 38.061-10.921 38.061S52.336 47.579 0 0" transform="translate(505.943 527.575)" />
        <path d="m0 0-53.528-83.319 92.779-7.132z" transform="translate(455.992 486)" />
        <path d="M0 0s-33.308-115.379-5.947-206.972c4.759 17.845 14.271 20.222 14.271 20.222s-2.381-27.359 11.894-52.335c7.137 13.087 13.086 15.465 13.086 15.465s-2.379-28.544 7.136-48.766c11.894 11.896 24.977 19.026 24.977 19.026s-.916-38.059 6.082-53.518c16.522 14.267 26.034 29.733 26.034 29.733s0-36.873 14.273-59.474a2002.756 2002.756 0 0 1 24.981 19.034s10.837-34.499 26.827-51.147c12.424 26.165 18.372 38.062 18.372 38.062s19.033-53.527 42.819-68.992c21.413 30.93 30.929 47.578 30.929 47.578s15.466-35.675 49.958-55.9c21.407 20.219 34.561 51.141 34.561 51.141l20.151-44.008 30.925 5.948 15.466 35.681 27.354-26.166 15.464 1.191 27.355 55.905 9.518-39.251 27.357 15.459 20.006 44.014 12.111-32.119 11.896 5.949 17.839 41.629 16.654-27.355 14.273 47.58 24.977-14.278 13.086 49.959 14.271-13.086 5.948 33.309 14.273-11.896v39.251l17.844-14.87s40.44 98.128 14.274 209.938c-13.085-46.387-15.464-53.52-15.464-53.52s11.897-35.001 1.19-68.055c-8.329 26.42-23.788 40.695-23.788 40.695s14.27-51.146-1.189-83.259c-7.14 29.733-21.842 42.564-21.842 42.564l-7.898-16.399s7.139-52.337-1.19-68.99c-13.085 34.498-34.492 48.773-34.492 48.773s11.895-54.722-2.378-80.888c-15.466 28.547-35.688 32.115-35.688 32.115s7.139-44.008-10.7-64.227c-11.896 16.649-40.443 27.356-40.443 27.356s1.185-61.848-11.896-82.072c-1.187 27.355-46.385 64.232-46.385 64.232s-8.54-59.533-27.363-84.455c-3.565 30.93-24.974 68.992-24.974 68.992l-22.603-2.381s6.961-43.002-13.086-74.932c-7.134 32.114-30.853 82.072-30.853 82.072l-26.237-4.759s-3.382-53.738-20.22-83.265c-8.329 32.118-33.303 80.884-33.303 80.884l-28.551 3.571-19.031-45.205-26.168 64.232-29.738-10.701-10.703 32.113-19.033 8.326-9.516-46.388-16.652 85.64-14.272 10.737-8.326-39.282-7.004 64.226-25.11-24.944 7.134 45.222-17.839 16.861-8.329-30 2.381 58.284L17.84-68.991 4.755-115.834S-10.704-54.716 0 0" transform="translate(88.448 612.03)" />
      </g>
    </svg>
  </template>
  <script src='https://unpkg.co/gsap@3/dist/gsap.min.js'></script>
  <script src='https://unpkg.com/vue@3/dist/vue.global.js'></script>
  <script id="rendered-js">
    const { createApp } = Vue;

    createApp({
      data() {
        return {
          currentFace: "face-five",
          faceNum: 0,
          faces: ["face-one", "face-two", "face-three", "face-four", "face-five"],
          turbulence: null
        };
      },

      methods: {
        changeFace() {
          let dur = 0.4;
          let xRand = gsap.utils.random(0.751, 0.8631);
          let turbulence = document.querySelector("feTurbulence");

          gsap.to(turbulence, dur, {
            attr: {
              baseFrequency: `0.0001 ${xRand}`
            }
          });

          if (this.faceNum >= this.faces.length - 1) {
            this.faceNum = 0;
            gsap.to(turbulence, dur, {
              attr: {
                baseFrequency: "0.0001 0.0001"
              }
            });
          } else {
            this.faceNum++;
            gsap.to(turbulence, dur, {
              attr: {
                baseFrequency: "0.0001 0.0001"
              }
            });
          }

          this.currentFace = this.faces[this.faceNum];
        },

        tiltFace(e) {
          let w = window.innerWidth;
          let h = window.innerHeight;
          let posX = e.clientX / w - 0.5;
          let posY = e.clientY / h - 0.5;
          gsap.to(".container", {
            rotationX: -posY * 50,
            rotationY: posX * 50,
            ease: "sine.out",
            duration: 0.6
          });
        }
      },

      mounted() {
        this.currentFace = this.faces[this.faceNum];
        window.addEventListener("click", this.changeFace);
        window.addEventListener("mousemove", this.tiltFace);
      }
    })
    .component("face-five", {
      template: "#face-5"
    })
    .component("face-four", {
      template: "#face-4"
    })
    .component("face-three", {
      template: "#face-3"
    })
    .component("face-two", {
      template: "#face-2"
    })
    .component("face-one", {
      template: "#face-1"
    })
    .mount("#app");
  </script>
